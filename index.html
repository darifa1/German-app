<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>German Learning App</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Login/Signup Page -->
    <div id="authPage" class="auth-page">
        <div class="auth-container">
            <div class="auth-logo">
                <div class="logo-circle">ğŸ‡©ğŸ‡ª</div>
                <h1>DeutschMeister</h1>
                <p>Master German, One Story at a Time</p>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h2>Welcome Back!</h2>
                <div class="form-group">
                    <label>Email or Username</label>
                    <input type="text" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="btn-auth" onclick="login()">Sign In</button>
                <p class="auth-switch">Don't have an account? <a href="#" onclick="showSignup()">Sign Up</a></p>
            </div>

            <!-- Signup Form -->
            <div id="signupForm" class="auth-form" style="display: none;">
                <h2>Create Account</h2>
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="signupName" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password">
                </div>
                <div class="form-group">
                    <label>Choose Your Level</label>
                    <div class="level-selector">
                        <div class="level-card" onclick="selectLevel('a1')">
                            <div class="level-icon">ğŸŒ±</div>
                            <h3>A1</h3>
                            <p>Beginner</p>
                        </div>
                        <div class="level-card" onclick="selectLevel('a2')">
                            <div class="level-icon">ğŸŒ¿</div>
                            <h3>A2</h3>
                            <p>Elementary</p>
                        </div>
                        <div class="level-card" onclick="selectLevel('b1')">
                            <div class="level-icon">ğŸŒ³</div>
                            <h3>B1</h3>
                            <p>Intermediate</p>
                        </div>
                    </div>
                </div>
                <button class="btn-auth" onclick="signup()">Create Account</button>
                <p class="auth-switch">Already have an account? <a href="#" onclick="showLogin()">Sign In</a></p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" style="display: none;">
        <div class="header">
            <div class="header-content">
                <h1>ğŸ‡©ğŸ‡ª German Learning</h1>
                <div class="header-controls">
                    <div class="user-profile" onclick="toggleUserMenu()">
                        <div class="user-avatar" id="userAvatar"></div>
                        <span id="userName"></span>
                        <span class="level-badge-small" id="userLevelBadge"></span>
                    </div>
                    <button class="btn" onclick="toggleDarkMode()">ğŸŒ™</button>
                    <button class="btn" onclick="toggleVocab()">ğŸ“š Vocab</button>
                </div>
            </div>
        </div>

        <!-- User Menu Dropdown -->
        <div id="userMenu" class="user-menu">
            <div class="user-menu-header">
                <div class="user-avatar-large" id="userAvatarLarge"></div>
                <div>
                    <h3 id="userNameMenu"></h3>
                    <p id="userEmailMenu"></p>
                </div>
            </div>
            <div class="user-menu-item" onclick="showLevelChange()">
                <span>ğŸ”„</span> Change Level
            </div>
            <div class="user-menu-item" onclick="showStats()">
                <span>ğŸ“Š</span> My Progress
            </div>
            <div class="user-menu-item" onclick="logout()">
                <span>ğŸšª</span> Logout
            </div>
        </div>

        <div class="container">
            <!-- Home View with Level Stories -->
            <div id="homeView">
                <div class="welcome-section">
                    <h2>Welcome back, <span id="welcomeName"></span>!</h2>
                    <p>Continue your German learning journey</p>
                </div>

                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“š</div>
                        <div class="stat-content">
                            <h3 id="storiesRead">0</h3>
                            <p>Stories Read</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ’¬</div>
                        <div class="stat-content">
                            <h3 id="wordsLearned">0</h3>
                            <p>Words Learned</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ”¥</div>
                        <div class="stat-content">
                            <h3 id="streak">0</h3>
                            <p>Day Streak</p>
                        </div>
                    </div>
                </div>

                <div class="level-section">
                    <div class="level-header-main">
                        <div class="level-icon-large" id="currentLevelIcon">ğŸŒ±</div>
                        <div>
                            <h2 id="currentLevelTitle">A1 - Beginner</h2>
                            <p id="currentLevelDesc">Start your German learning journey</p>
                        </div>
                    </div>
                    <div class="stories-grid" id="userStories"></div>
                </div>
            </div>

            <!-- Reading View -->
            <div id="readingView" class="reading-view">
                <div class="reading-header">
                    <button class="back-btn" onclick="goHome()">â† Back</button>
                    <h2 id="storyTitle"></h2>
                    <div class="reading-controls">
                        <button class="btn btn-primary" onclick="playFullStory()">â–¶ Play Story</button>
                        <button class="btn" onclick="stopAudio()" style="background-color: #f44336;">â¹ Stop
                            Audio</button>
                        <div class="font-control">
                            <button class="btn" onclick="changeFontSize(-2)">A-</button>
                            <span class="font-size-display" id="fontSizeDisplay">18px</span>
                            <button class="btn" onclick="changeFontSize(2)">A+</button>
                        </div>
                        <div class="lang-toggle">
                            <button id="btnBoth" class="active" onclick="setLangMode('both')">Both</button>
                            <button id="btnArabic" onclick="setLangMode('arabic')">Ø¹Ø±Ø¨ÙŠ</button>
                            <button id="btnEnglish" onclick="setLangMode('english')">English</button>
                        </div>
                    </div>
                </div>
                <div class="text-content" id="textContent"></div>
            </div>
        </div>

        <div class="translation-popup" id="translationPopup">
            <div class="popup-word" id="popupWord"></div>
            <div class="translation-section" id="englishSection">
                <div class="translation-label">English</div>
                <div class="translation-text" id="englishTrans">Loading...</div>
            </div>
            <div class="translation-section" id="arabicSection">
                <div class="translation-label">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                <div class="translation-text" id="arabicTrans">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            </div>
            <div class="popup-controls">
                <button class="btn btn-primary" type="button" onclick="speakWord()">ğŸ”Š Pronounce</button>
                <button class="btn" type="button" onclick="stopAudio()"
                    style="background-color: #f44336; color: white;">â¹ Stop</button>
                <button class="btn" type="button" onclick="closePopup()">Close</button>
            </div>
        </div>

        <div class="vocab-list" id="vocabList">
            <div class="vocab-header">
                <h3>My Vocabulary</h3>
                <button class="btn" onclick="clearVocab()">Clear</button>
            </div>
            <div id="vocabItems"></div>
        </div>

        <div class="overlay" id="overlay" onclick="closeAll()"></div>
    </div>

    <script src="script.js"></script>
</body>

</html>